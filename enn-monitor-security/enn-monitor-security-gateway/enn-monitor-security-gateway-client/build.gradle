apply plugin: 'java'
apply plugin: 'fatjar'

buildscript {
	repositories {
		mavenCentral()
	}

	dependencies {
		classpath 'eu.appsatori:gradle-fatjar-plugin:0.2'
	}
}

build.dependsOn fatJar

fatJar {
	exclude 'META-INF/*.DSA'
}

group = 'enn-monitor'
version = "${versions.ennew_monitor_security}"
jar {
	baseName = 'enn-monitor-security-gateway-client'
}

dependencies {
	compile (libraries.enn_monitor_framework_common) {
		exclude group: 'io.netty'
	}
	compile libraries.enn_monitor_security_gateway_proto
	compile libraries.enn_monitor_framework_metrics_app_client

	compile fileTree(dir: "../../../libs/commons-logging/1.2",include: '*.jar')
	compile libraries.log4j_api
	compile libraries.log4j_jcl

	compile libraries.grpc_netty
	compile libraries.grpc_protobuf
	compile libraries.grpc_stub
	compile libraries.protobuf_java
	compile libraries.protobuf_java_format

	//compile (project(":enn-monitor-framework:enn-monitor-framework-trace")) {
	//	exclude group: 'io.netty'
	//}
}

